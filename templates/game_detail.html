{% extends "base.html" %}

{% block title %}{{ game.title }} - Game Sharing Platform{% endblock %}

{% block content %}
<h2>{{ game.title }}</h2>

<p><strong>Author:</strong> {{ game.uploader.username }}</p>
<p><strong>Uploaded:</strong> {{ game.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
<p><strong>Description:</strong></p>
<p>{{ game.description or 'No description provided.' }}</p>

<p>
    <a href="{{ url_for('download_game', game_id=game.id) }}">Download Game</a>
</p>

{% if current_user.is_authenticated and current_user.id == game.uploader_id %}
    <hr>
    <h3>Author Actions</h3>
    <p>
        <a href="{{ url_for('edit_game', game_id=game.id) }}">Edit Game</a>
    </p>
    <form method="POST" action="{{ url_for('delete_game', game_id=game.id) }}" style="display:inline;">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this game?')">Delete Game</button>
    </form>
{% endif %}

<p><a href="{{ url_for('index') }}">Back to game list</a></p>
{% endblock %}
